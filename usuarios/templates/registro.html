
{% extends "base.html" %}

{% block title %}Cadastro de usuários{% endblock %}

{% block content %}
  <h2>Cadastro de usuários</h2>

  {% if messages %}
    <ul class="messages">
      {% for message in messages %}
        <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
      {% endfor %}
    </ul>
  {% endif %}

  <section style="margin-bottom: 40px;">
    <h3>Cadastrar um usuário</h3>
    <form method="post">
      {% csrf_token %}
      <table>
      <div class="form-group">
        {{user_form.username.errors}}
        <label>Usuário: </label>
        {{user_form.username}}
      </div>

      <div class="form-group">
        {{user_form.password1.errors}}
        <label>Senha: </label>
        {{user_form.password1}}
      </div>

      <div class="form-group">
        {{user_form.password2.errors}}
        <label>Confirme a senha: </label>
        {{user_form.password2}}
      </div>

      <div class="form-group">
        <input type="submit" value="Cadastrar">
      </div>
      </table>

    </form>
  </section>

  <section>
    <h3>Importar lista de usuários (CSV)</h3>
    <p>
      Envie um arquivo <strong>.csv</strong> com as colunas:
      <code>username</code>, <code>password</code> e, opcionalmente,
      <code>email</code>, <code>first_name</code>, <code>last_name</code>.
    </p>
    <p>Exemplo:</p>
    <pre>username,email,password,first_name,last_name
joao,joao@email.com,senha123,João,Silva
maria,maria@email.com,outrasenha,Maria,Santos</pre>
    <form method="post" enctype="multipart/form-data">
      {% csrf_token %}
      <table>
        {{ import_form.as_table }}
      </table>
      <div style="margin-top: 20px;">
        <input type="submit" value="Importar lista">
      </div>
    </form>
  </section>
{% endblock %}
