{% extends "base.html" %}
{% block content %}

<style>
    :root {
        --green-dark: #1f4f3a;
        --green-main: #256a4b;
        --gold: #d9a441;
        --bg-light: #faf9f7;
        --text-dark: #1d1d1d;
    }

    body {
        background-color: var(--bg-light);
    }

    /* ================= BUSCA ================= */
    .search-container {
        display: flex;
        justify-content: center;
        padding: 40px 20px 10px;
    }

    .search-container form {
        display: flex;
        gap: 10px;
        width: 100%;
        max-width: 500px;
    }

    .search-container input {
        flex: 1;
        padding: 12px 14px;
        font-size: 15px;
        border-radius: 8px;
        border: 1px solid #ddd;
        outline: none;
    }

    .search-container button {
        padding: 12px 20px;
        background-color: var(--green-main);
        color: #fff;
        border: none;
        border-radius: 8px;
        font-weight: 600;
        cursor: pointer;
    }

    .search-container button:hover {
        background-color: var(--green-dark);
    }

    /* ================= GRID ================= */
    .produto-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: 30px;
        padding: 40px 80px 80px;
        max-width: 1400px;
        margin: 0 auto;
    }

    /* ================= CARD ================= */
    .produto-card {
        background: #ffffff;
        border-radius: 14px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.06);
        padding: 25px;
        text-align: left;
        transition: transform .3s ease, box-shadow .3s ease;
    }

    .produto-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 15px 40px rgba(0,0,0,0.1);
        cursor: pointer;
    }

    .produto-tag {
        display: inline-block;
        background: var(--green-main);
        color: #fff;
        font-size: 11px;
        padding: 4px 10px;
        border-radius: 20px;
        margin-bottom: 10px;
    }

    .produto-card img {
        width: 100%;
        height: 260px;
        object-fit: contain;
        margin-bottom: 15px;
    }

    .produto-card h3 {
        font-size: 18px;
        margin-bottom: 6px;
        color: var(--text-dark);
    }

    .produto-card p {
        font-size: 13px;
        color: #555;
    }

    /* ================= EMPTY ================= */
    .no-results {
        grid-column: 1 / -1;
        text-align: center;
        font-size: 16px;
        color: #777;
        padding: 60px 0;
    }

    @media (max-width: 768px) {
        .produto-grid {
            padding: 30px 20px 60px;
        }
    }
</style>

<!-- ================= BUSCA ================= -->
<div class="search-container">
    <form method="GET" action="{% url 'lista_produtos' %}">
        <input
            type="text"
            name="search"
            placeholder="Buscar produto..."
            value="{{ request.GET.search }}"
        >
        <button type="submit">Buscar</button>
    </form>
</div>

<!-- ================= PRODUTOS ================= -->
<div class="produto-grid">
    {% if produtos %}
        {% for produto in produtos %}
            <div class="produto-card">
                <span class="produto-tag">{{ produto.especie }}</span>

                <img
                    src="{{ produto.imagem.url }}"
                    alt="{{ produto.nome_produto }}"
                >

                <h3>{{ produto.nome_produto }}</h3>
                <p>{{ produto.marca }} â€“ {{ produto.especie }}</p>
            </div>
        {% endfor %}
    {% else %}
        <p class="no-results">Nenhum produto encontrado.</p>
    {% endif %}
</div>

{% endblock %}
